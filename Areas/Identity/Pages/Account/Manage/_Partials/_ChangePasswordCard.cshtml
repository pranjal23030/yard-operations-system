@model YardOps.Areas.Identity.Pages.Account.Manage.IndexModel

<div class="profile-card">
    <div class="profile-card-header">
        <i class="fa-solid fa-key"></i>
        <h2 class="profile-card-title">Change Password</h2>
    </div>
    <div class="profile-card-body">
        @if (!string.IsNullOrEmpty(Model.PasswordStatusMessage))
        {
            <div class="profile-alert profile-alert-success">
                <i class="fa-solid fa-check-circle"></i>
                @Model.PasswordStatusMessage
            </div>
        }

        <form method="post" asp-page-handler="ChangePassword">
            <div class="profile-form-row full-width">
                <div class="profile-form-group">
                    <label asp-for="PasswordInput.OldPassword" class="profile-form-label">Current Password</label>
                    <div class="profile-password-wrapper">
                        <input asp-for="PasswordInput.OldPassword" id="currentPassword" class="profile-form-input" placeholder="Enter current password" type="password" />
                        <button type="button" class="profile-password-toggle" onclick="togglePassword('currentPassword', 'currentPasswordIcon')">
                            <i id="currentPasswordIcon" class="fa-regular fa-eye"></i>
                        </button>
                    </div>
                    <span asp-validation-for="PasswordInput.OldPassword" class="profile-form-error"></span>
                </div>
            </div>

            <div class="profile-form-row">
                <div class="profile-form-group">
                    <label asp-for="PasswordInput.NewPassword" class="profile-form-label">New Password</label>
                    <div class="profile-password-wrapper">
                        <input asp-for="PasswordInput.NewPassword" id="newPassword" class="profile-form-input" placeholder="Enter new password" type="password" />
                        <button type="button" class="profile-password-toggle" onclick="togglePassword('newPassword', 'newPasswordIcon')">
                            <i id="newPasswordIcon" class="fa-regular fa-eye"></i>
                        </button>
                    </div>
                    <span asp-validation-for="PasswordInput.NewPassword" class="profile-form-error"></span>
                </div>
                <div class="profile-form-group">
                    <label asp-for="PasswordInput.ConfirmPassword" class="profile-form-label">Confirm New Password</label>
                    <div class="profile-password-wrapper">
                        <input asp-for="PasswordInput.ConfirmPassword" id="confirmPassword" class="profile-form-input" placeholder="Confirm new password" type="password" />
                        <button type="button" class="profile-password-toggle" onclick="togglePassword('confirmPassword', 'confirmPasswordIcon')">
                            <i id="confirmPasswordIcon" class="fa-regular fa-eye"></i>
                        </button>
                    </div>
                    <span asp-validation-for="PasswordInput.ConfirmPassword" class="profile-form-error"></span>
                </div>
            </div>

            <div class="profile-form-actions">
                <button type="submit" class="btn-update-password">
                    Update Password
                </button>
            </div>
        </form>
    </div>
</div>